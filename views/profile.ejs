<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="stylesheets/profile.css" />
    <title>Profile</title>
  </head>
  <body>
    <div class="header">
      <!-- Header container -->

      <div class="headerLogo">
        <!-- Logo section -->
        <span>Khaatabook</span>
      </div>

      <div class="headerLinks">
        <!-- Navigation links and theme toggle buttons -->

        <a href="#" class="nav-link">Home</a>
        <a href="#" class="nav-link">Create New Hisaab</a>

        <button class="theme-toggle" aria-label="Toggle dark mode">
          <!-- Dark mode toggle button -->
          <img src="svgs/moon.svg" alt="Dark mode icon" />
        </button>

        <button class="theme-toggle" aria-label="Toggle light mode">
          <!-- Light mode toggle button -->
          <img src="svgs/sun.svg" alt="Light mode icon" />
        </button>
      </div>

      <div class="hamburger">
        <!-- Hamburger menu button -->
        <button>
          <img src="svgs/hamburger.svg" alt="Hamburger menu icon" />
        </button>
      </div>
    </div>
    <!-- Main container for the entire section -->
    <div class="mainBodyPartContainer">
      <!-- Wrapper div for the content inside -->
      <div class="hisaabWrapper">
        <% if(hisaabs && hisaabs.length > 0){ %> <% hisaabs.forEach(hisaab => {
        %>
        <div class="hisaab">
          <!-- Container for buttons and date information -->
          <div class="buttonsAndDateWrapper">
            <!-- Container for encryption/sharing button -->
            <div class="buttonWrapper">
              <% if(hisaab.isEncrypt) { %>
              <span class="encrptedOrNot"> Encrypted </span>
              <% } else { %>
              <span class="isAvailableOrNot"> Available </span>
              <% } %>
              <!-- Sharing icon -->
              <% if (hisaab.isSharable) { %>
              <span class="isSharable">
                <img src="svgs/isSharable.svg" alt="" />
              </span>
              <% } %>
            </div>

            <!-- Date information container -->
            <span class="createdDate">
              <span>Date:</span>
              <p><%= new Date(hisaab.data).toLocaleDateString() %></p>
            </span>
          </div>

          <!-- Content description -->
          <div class="hisaabContentWrapper">
            <span><%= hisaab.name %></span>
          </div>

          <!-- Navigation link -->
          <div class="hasaabNavigator">
            <a href="/hisaab/<%= hisaab._id %>">view hisaab</a>
          </div>
        </div>
        <% }) %> <% } else { %>
        <div class="no-hisaabs">
          <p>No hisaabs found. Create your first hisaab!</p>
        </div>
        <% } %>
      </div>
    </div>
  </body>
</html>
